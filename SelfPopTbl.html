<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern Webpage Example</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hamburgers/dist/hamburgers.min.css"> <!-- Hamburgers CSS -->
    <link rel="stylesheet" href="CSS/style1.css"> <!-- Link to external CSS file -->
</head>
<body>

<header>
    <h1>Modern Webpage</h1>
    <div class="hamburger hamburger--collapse">
        <div class="hamburger-box">
            <div class="hamburger-inner"></div>
        </div>
    </div>
    <nav class="menu">
        <ul>
            <li><label class="switch">
                <input type="checkbox" id="mode-toggle">
                <span class="slider"> </span>
            </label></li>

            <li><a href="index.html">Home</a></li>
            <li><a href="table.html">Table</a></li>
            <li><a href="#">Services</a></li>
            <li><a href="#">Contact</a></li>
        </ul>
    </nav>
</header>

<div class="container">

<main>
    <table id="SelfPopTable">
        <thead>
          <tr>
            <th>Position</th>
            <th>Name</th>
            <th>Artist</th>
          </tr>
        </thead>
        <tbody>
          
        </tbody>
    </table>
</main>

</div>

<footer>
    <p>&copy; 2024 Modern Webpage Example</p>
</footer>

<!-- jQuery (necessary for Hamburgers JavaScript) -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<!-- Hamburgers JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/hamburgers/dist/hamburgers.min.js"></script>
<script src="SCRIPT/BackgrounScript.js"></script>
<script>
  function getColumn(csvData,columnName){
    const rows = csvData.split('\n');
    const columnIndex = rows[0].split(',').indexOf(columnName);
    if(columnIndex === -1){
      return [];
    }
    return rows.slice(1).map(row => row.split(,)[columnIndex]);
  }
  
  fetch('Data/Top-50-USA.csv')
  .then(response => response.text())
  .then(data => {
    const POS = getColumn(data, 'Position');
    console.log(POS);
  })
  .catch(error =>
  console.error('Error Fetching CSV:', error));
  
    fetch('Data/Top-50-USA.csv')
  .then(response => response.text())
  .then(data => {
    const NAME = getColumn(data, 'Track Name');
    console.log(NAME);
  })
  .catch(error =>
  console.error('Error Fetching CSV:', error));
  
      fetch('Data/Top-50-USA.csv')
  .then(response => response.text())
  .then(data => {
    const ARTIST = getColumn(data, 'Artist');
    console.log(ARTIST);
  })
  .catch(error =>
  console.error('Error Fetching CSV:', error));
  
    
  //Populate the table
  const tbody = document.querySelector('#SelfPopTable tbody');
  for(let i = 0; i < POS.length; i++){
    const row = document.createElement('tr');
    const posCell = document.createElement('td');
    posCell.textContent = POS[i];
    row.appendChild(posCell);
    const nameCell = document.createElement('td');
    nameCell.textContent = NAME[i];
    row.appendChild(nameCell);
    const artistCell = document.createElement('td');
    artistCell.textContent = ARTIST[i];
  }
</script>
</body>
</html>